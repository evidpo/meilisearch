# üîç –ü–æ–∏—Å–∫–æ–≤—ã–π –≤–∏–¥–∂–µ—Ç evidpo.ru

–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π –ø–æ–∏—Å–∫–∞ –∫—É—Ä—Å–æ–≤ –¥–ª—è —Å–∞–π—Ç–∞ evidpo.ru –Ω–∞ Creatium.

**–ü–æ–∏—Å–∫–æ–≤—ã–π –¥–≤–∏–∂–æ–∫:** Meilisearch (Railway)  
**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** n8n + Directual  
**–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:** ~5ms  
**–ö—É—Ä—Å–æ–≤ –≤ –∏–Ω–¥–µ–∫—Å–µ:** 201

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîé –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
- üìÇ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Ç–æ–ø-10 –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏)
- üî• "–ß–∞—Å—Ç–æ –∏—â—É—Ç" ‚Äî —Ç–æ–ø-4 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (6 –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç–æ–≤)
- ‚ôæÔ∏è –ü–∞–≥–∏–Ω–∞—Ü–∏—è "–ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë"
- üñºÔ∏è –ö–∞—Ä—Ç–æ—á–∫–∏ –∫—É—Ä—Å–æ–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã—Ç—å HTML —Ñ–∞–π–ª
open src/evidpo-search-overlay.html
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Creatium

```
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ src/evidpo-search-overlay.html
2. Creatium ‚Üí –î–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫ ‚Üí Custom HTML
3. –í—Å—Ç–∞–≤–∏—Ç—å –∫–æ–¥
4. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
```

### 3. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –ø–æ–∏—Å–∫–∞ –≤ –º–µ–Ω—é

```html
<!-- –ö–Ω–æ–ø–∫–∞ —É–∂–µ –µ—Å—Ç—å –≤ –≤–∏–¥–∂–µ—Ç–µ —Å –∫–ª–∞—Å—Å–æ–º evidpo-search-trigger -->
<!-- –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é –∫–Ω–æ–ø–∫—É: -->
<button onclick="document.getElementById('evidpoOverlay').classList.add('active')">
  –ü–æ–∏—Å–∫
</button>
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
evidpo-search/
‚îú‚îÄ‚îÄ .trae/rules/
‚îÇ   ‚îú‚îÄ‚îÄ project_rules.md          # –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ memory-bank/
‚îÇ       ‚îú‚îÄ‚îÄ brief.md              # –°—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ stack.md              # –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, URLs
‚îÇ       ‚îú‚îÄ‚îÄ constraints.md        # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ features.md           # –§—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ evidpo-search-overlay.html
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ meilisearch-setup.md
‚îÇ   ‚îî‚îÄ‚îÄ n8n-workflow.md
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ TASKS.md
```

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|------------|
| –ü–æ–∏—Å–∫ | Meilisearch v1.9 |
| –•–æ—Å—Ç–∏–Ω–≥ –ø–æ–∏—Å–∫–∞ | Railway |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è | n8n |
| –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö | Directual |
| –°–∞–π—Ç | Creatium |
| –í–∏–¥–∂–µ—Ç | Vanilla HTML/CSS/JS |

---

## üìä API

### –ü–æ–∏—Å–∫ –∫—É—Ä—Å–æ–≤

```bash
curl -X POST 'https://getmeilimeilisearchv190-production-6123b.up.railway.app/indexes/courses/search' \
  -H 'Authorization: Bearer b17c51453595ca37ff81b5c5b7ae8b7d0541d6b3e375fecd86831572dee58660' \
  -H 'Content-Type: application/json' \
  -d '{
    "q": "–æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞",
    "limit": 10,
    "attributesToHighlight": ["title"]
  }'
```

### –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫—É—Ä—Å—ã

```bash
curl -X POST '.../indexes/courses/search' \
  -H 'Authorization: Bearer SEARCH_KEY' \
  -d '{
    "q": "",
    "limit": 6,
    "sort": ["students:desc"]
  }'
```

---

## üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∏–∑ Directual —á–µ—Ä–µ–∑ n8n workflow:

```
Directual API ‚Üí n8n Transform ‚Üí Meilisearch
```

**–ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é:**
1. –û—Ç–∫—Ä—ã—Ç—å n8n
2. –ù–∞–π—Ç–∏ workflow "Sync Directual ‚Üí Meilisearch"
3. Execute Workflow

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Cron —Ç—Ä–∏–≥–≥–µ—Ä (TODO)

---

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –¶–≤–µ—Ç–∞ (CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∫–æ–¥–µ)

```css
/* –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç ‚Äî —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π */
background: #7c3aed;  /* –ö–Ω–æ–ø–∫–∏ */
border-color: #7c3aed;  /* Hover —ç—Ñ—Ñ–µ–∫—Ç—ã */
```

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–æ—á–µ–∫

```javascript
const ITEMS_PER_PAGE = 6;  // –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –Ω—É–∂–Ω–æ–µ
```

### –ú–∞–ø–ø–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π ‚Üí –∑–∞–ø—Ä–æ—Å—ã

```javascript
const directionToQuery = {
  '–ü–µ—Ä–≤–∞—è –ø–æ–º–æ—â—å': '–ø–µ—Ä–≤–∞—è –ø–æ–º–æ—â—å',
  '–ê–≤—Ç–æ—à–∫–æ–ª—ã': '–∞–≤—Ç–æ—à–∫–æ–ª–∞',
  // –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ...
};
```

---

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

| –®–∏—Ä–∏–Ω–∞ | –ö–æ–ª–æ–Ω–∫–∏ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|--------|---------|-------------|
| 1400px+ | 4 | –ü–æ–ª–Ω—ã–π –≤–∏–¥ |
| 1200px | 3 | –£–∑–∫–∏–π —Å–∞–π–¥–±–∞—Ä |
| 1024px | 2 | –ú–æ–±–∏–ª—å–Ω—ã–π layout |
| 768px | 2 | –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã |
| 480px | 2 | –ú–∞–ª–µ–Ω—å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ |
| 360px | 1 | –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ |

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–ü–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**

1. –°–º–µ–Ω–∏—Ç—å `MEILI_MASTER_KEY` –≤ Railway
2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π Search API Key
3. –û–±–Ω–æ–≤–∏—Ç—å –∫–ª—é—á –≤ `src/evidpo-search-overlay.html`
4. –û–±–Ω–æ–≤–∏—Ç—å –∫–ª—é—á –≤ n8n workflow

---

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Meilisearch](docs/meilisearch-setup.md)
- [n8n Workflow](docs/n8n-workflow.md)
- [–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è](/.trae/rules/memory-bank/constraints.md)
- [–§—É–Ω–∫—Ü–∏–∏](/.trae/rules/memory-bank/features.md)

---

## ü§ù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ü–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π –ø—Ä–æ—á–∏—Ç–∞–π:
1. `.trae/rules/project_rules.md` ‚Äî –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã
2. `.trae/rules/memory-bank/constraints.md` ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
3. `TASKS.md` ‚Äî —Ç–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2026-01-05
